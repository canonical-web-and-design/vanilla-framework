@import 'settings';

@mixin vf-validation-wrapper {
  color: $color-dark;
  position: relative;
}

// form validation styling for form inputs
@mixin vf-p-form-validation {

  .p-form-validation {
    @include vf-validation-wrapper;

    .p-form-validation__input { // Not using parent selector here as two classes are required to override atribute selectors in reset
      background-position: calc(100% - #{$spv-intra}) $sph-intra;
      background-repeat: no-repeat;
    }

    .p-form-validation__icon {
      position: relative;

      &::after {
        position: absolute;
        right: $sp-small;
        top: calc(50% - #{$sp-x-small});
      }
    }

    &__message {
      @extend %small-text;

      input + & {
        margin-top: - $spv-intra;
      }
    }
  }

  .is-error {
    .p-form-validation__input {
      background-image: url('#{$assets-path}4b0cd7fc-icon-error.svg');
      background-position: right $sph-intra--condensed top 50%;
      border-color: $color-negative;
    }
  }

  .is-success {

    .p-form-validation__input {
      background-image: url('#{$assets-path}94949185-icon-success.svg');
      border-color: $color-positive;
    }
  }

  .is-caution {

    .p-form-validation__input {
      background-image: url('#{$assets-path}db30f04c-icon-caution.svg');
      border-color: $color-caution;
    }
  }
}
