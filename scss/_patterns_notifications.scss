@import 'settings';
$content-top-padding: $spv-inner--small;
$content-icon-space: 2 * $sph-inner + map-get($icon-sizes, default);
$content-icon-space--large: 2 * $sph-inner + map-get($icon-sizes, heading-icon--small);

// Notification style patterns
@mixin vf-p-notification {
  // The mixin for basic notification styling
  %vf-notification {
    @extend %vf-is-bordered;

    border-radius: 0 $border-radius $border-radius 0;
    display: flex;
    overflow: hidden;
    padding: 0;

    .p-notification__content {
      background-position: $sph-inner $content-top-padding + 0.5 * (map-get($line-heights, default-text) - map-get($icon-sizes, default));
      background-repeat: no-repeat;
      background-size: map-get($icon-sizes, default);
      margin-bottom: 0;
      padding: $content-top-padding $sph-inner + $spv-inner--small $content-top-padding $content-icon-space;
    }

    .p-notification__title {
      @extend %bold;

      display: block;
    }

    .p-notification__message {
      display: block;
    }

    &.is-borderless {
      border-color: transparent;

      .p-notification__content {
        background-color: transparent;
      }

      &::before {
        display: none;
      }
    }

    &.is-inline {
      .p-notification__title {
        display: inline;
      }

      .p-notification__message {
        display: inline;
      }
    }

    & + & {
      margin-top: $spv-outer--scaleable;
    }

    @include deprecate('3.0.0', 'Use `.p-notification__close` instead') {
      .p-icon--close {
        background-color: transparent;
        background-size: map-get($icon-sizes, default);
        border: 0;
        margin: $content-top-padding + 0.5 * (map-get($line-heights, default-text) - map-get($icon-sizes, default)) $sph-inner auto auto;
        padding: $sp-unit;
      }
    }
  }

  @include vf-notifications-default;
  @include vf-notifications-positive;
  @include vf-notifications-caution;
  @include vf-notifications-negative;
  @include vf-notifications-information;
}

// Default notification styling
@mixin vf-notifications-default {
  .p-notification {
    @extend %vf-notification;
    @include vf-highlight-bar($color-information, left);

    .p-notification__content {
      @include vf-icon-info($color-mid-dark);
    }

    @include deprecate('3.0.0', 'Use `.p-notification__content` instead') {
      .p-notification__response {
        @include vf-icon-info($color-mid-dark);
      }
    }
  }

  @include deprecate('3.0.0', 'Use the new notification structure instead') {
    .p-notification__response {
      background-position: $sph-inner $content-top-padding + 0.5 * (map-get($line-heights, default-text) - map-get($icon-sizes, default));
      background-repeat: no-repeat;
      background-size: map-get($icon-sizes, default);
      margin-bottom: 0;
      padding: $content-top-padding $sph-inner + $spv-inner--small $content-top-padding $content-icon-space;
    }

    .p-notification__status {
      @extend %bold;

      display: block;
    }

    .p-notification__status::after,
    .p-notification__action::before {
      content: ' ';
    }

    .p-notification__response,
    .p-notification--floating {
      max-width: unset;
    }
  }
}

// Positive notification styling
@mixin vf-notifications-positive {
  .p-notification--positive {
    @extend %vf-notification;
    @include vf-highlight-bar($color-positive, left);

    .p-notification__content {
      @include vf-icon-success;
    }

    @include deprecate('3.0.0', 'Use `.p-notification__content` instead') {
      .p-notification__response {
        @include vf-icon-success;
      }
    }
  }
}

// Caution notification styling
@mixin vf-notifications-caution {
  .p-notification--caution {
    @extend %vf-notification;
    @include vf-highlight-bar($color-caution, left);

    .p-notification__content {
      @include vf-icon-warning;
    }

    @include deprecate('3.0.0', 'Use `.p-notification__content` instead') {
      .p-notification__response {
        @include vf-icon-warning;
      }
    }
  }
}

// Negative notification styling
@mixin vf-notifications-negative {
  .p-notification--negative {
    @extend %vf-notification;
    @include vf-highlight-bar($color-negative, left);

    .p-notification__content {
      @include vf-icon-error;
    }

    @include deprecate('3.0.0', 'Use `.p-notification__content` instead') {
      .p-notification__response {
        @include vf-icon-error;
      }
    }
  }
}

// Information notification styling
@mixin vf-notifications-information {
  .p-notification--information {
    @extend %vf-notification;
    @include vf-highlight-bar($color-information, left);

    .p-notification__content {
      @include vf-icon-info($color-mid-dark);
    }

    @include deprecate('3.0.0', 'Use `.p-notification__content` instead') {
      .p-notification__response {
        @include vf-icon-info($color-mid-dark);
      }
    }
  }
}
